(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();function l(e){return JSON.parse(localStorage.getItem(e))}function u(e,t){localStorage.setItem(e,JSON.stringify(t))}function d(e){const t=window.location.search;return new URLSearchParams(t).get(e)}async function c(e,t,a,n){return t.innerHTML=e,Promise.resolve()}async function i(e){return await(await fetch(e)).text()}async function m(){const e=await i("/sleepoutside/partials/header.html"),t=await i("/sleepoutside/partials/footer.html"),a=document.querySelector("#main-footer"),n=document.querySelector("#main-header");await c(e,n),await c(t,a)}function f(e,t=!0,a=3e3){const n=document.createElement("div");n.classList.add("alert"),n.innerHTML=`<p>${e}</p><span>X</span>`,n.addEventListener("click",function(o){o.target.tagName=="SPAN"&&r.removeChild(this)});const r=document.querySelector("main");r.prepend(n),t&&window.scrollTo(0,0),setTimeout(function(){r.removeChild(n)},a)}function p(){document.querySelectorAll(".alert").forEach(t=>document.querySelector("main").removeChild(t))}function g(){const e=document.querySelector("#cart-badge");if(!e)return;const t=JSON.parse(localStorage.getItem("so-cart"))||[];e.innerText=t.length,e.style.display=t.length>0?"inline-block":"none"}export{f as a,d as b,l as g,m as l,p as r,u as s,g as u};
