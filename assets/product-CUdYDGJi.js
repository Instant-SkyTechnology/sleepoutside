import{g as o,s as a,l as c,a as n}from"./utils-CTidyZBE.js";import{P as d}from"./ProductData-Dy9N5VJP.js";class i{constructor(e,r){this.productId=e,this.product={},this.dataSource=r}async init(){if(this.product=await this.dataSource.findProductById(this.productId),!this.product||!this.product.Id){document.querySelector("#product-details").textContent="Product not found.";return}this.renderProductDetails(),document.getElementById("add-to-cart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const e=o("so-cart")||[];e.push(this.product),a("so-cart",e),alert(`${this.product.NameWithoutBrand} added to cart!`)}renderProductDetails(){s(this.product)}}function s(t){document.querySelector("h2").textContent=t.Category?t.Category.charAt(0).toUpperCase()+t.Category.slice(1):"",document.querySelector("#p-brand").textContent=t.Brand?.Name||"",document.querySelector("#p-name").textContent=t.NameWithoutBrand||"";const e=document.querySelector("#p-image");e.src=t.Images?.PrimaryExtraLarge||"",e.alt=t.NameWithoutBrand||"";const r=t.FinalPrice?new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(Number(t.FinalPrice)*.85):"";document.querySelector("#p-price").textContent=r,document.querySelector("#p-color").textContent=t.Colors?.[0]?.ColorName||"",document.querySelector("#p-description").innerHTML=t.DescriptionHtmlSimple||"",document.querySelector("#add-to-cart").dataset.id=t.Id}c();const u=new d("tents"),l=n("product"),m=new i(l,u);m.init();
